%%% Advanced Calculus
%%% Chapter 8: Continuous Functions in Euclidean Spaces
%%% Manuscript pages 33-60
%%% Spring 2019
%%% Typeset by Ecem Ilgun and Ata Deniz Aydin
\documentclass[12pt]{amsbook}
\usepackage[mathscr]{eucal}
\usepackage{amsmath,amsfonts}

%%% Set the parskip
\parskip=\smallskipamount
%%% Set the page dimensions
\hoffset -1.5cm \voffset -1cm \textwidth 15.5truecm
\textheight21.5truecm
%%% Define theorems and the like
\newtheorem{theorem}{Theorem}[section]
\newtheorem{fact}[theorem]{Fact}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{lemma}[theorem]{Lemma}
%%% Define definitions the like
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{remark}[theorem]{Remark}
%%% The following paragraph writes the equation numbers with two counters,
%%% the first is the section number and the second resets within the section.

\makeatletter
\@addtoreset{equation}{section}
\makeatother
\renewcommand\theequation{\arabic{section}.\arabic{equation}}

%%% The following paragraph sets macros for mathematical bold letters

\newcommand{\CC}{{\mathbb C}}
\newcommand{\NN}{{\mathbb N}}
\newcommand{\QQ}{{\mathbb Q}}
\newcommand{\ZZ}{{\mathbb Z}}
\newcommand{\DD}{{\mathbb D}}
\newcommand{\RR}{{\mathbb R}}

%%% The following paragraph sets macros for mathematical caligraphic letters


\newcommand{\cA}{{\mathcal A}}
\newcommand{\cB}{{\mathcal B}}
\newcommand{\cC}{{\mathcal C}}
\newcommand{\cD}{{\mathcal D}}
\newcommand{\cE}{{\mathcal E}}
\newcommand{\cF}{{\mathcal F}}
\newcommand{\cG}{{\mathcal G}}
\newcommand{\cH}{{\mathcal H}}
\newcommand{\cJ}{{\mathcal J}}
\newcommand{\cK}{{\mathcal K}}
\newcommand{\cL}{{\mathcal L}}
\newcommand{\cM}{{\mathcal M}}
\newcommand{\cN}{{\mathcal N}}
\newcommand{\cP}{{\mathcal P}}
\newcommand{\cR}{{\mathcal R}}
\newcommand{\cS}{{\mathcal S}}
\newcommand{\cT}{{\mathcal T}}
\newcommand{\cU}{{\mathcal U}}
\newcommand{\cV}{{\mathcal V}}
\newcommand{\cW}{{\mathcal W}}
\newcommand{\cZ}{{\mathcal Z}}

%%% Some macros

\newcommand{\Ra}{\Rightarrow} % Double right arrow, for implications
\newcommand{\La}{\Leftarrow} % Double left arrow, for implications
\newcommand{\Lra}{\Leftrightarrow} % Double equivalence sign
\newcommand{\ran}{\mathrm{Ran}} % Range
\newcommand{\ra}{\rightarrow} % Simple right arrow
\newcommand{\ol}{\overline} % Line over symbols
\newcommand{\hra}{\hookrightarrow} % Hooked right arrow
\newcommand{\de}{\mathrm{d}} % For differentials, integrals, etc.

%%% The beginning of the document
\begin{document}

\chapter{Continuous Functions in Euclidean Spaces}
%% AC02-3 pp. 33-42

\section{Continuous Functions}

% AC02 p. 33

\begin{definition} 
Let $(X; \rho)$ and $(Y; \eta)$ be two metric spaces, $f: X \ra Y$ and $x_0 \in X$.

$\bullet$ $f$ is \emph{continuous} at $x_0$ if $\forall \epsilon > 0 \ \exists \delta > 0$ such that $\forall x \in X$, if $\rho(x, x_0) < \delta$ then $\eta(f(x), f(x_0) < \epsilon$

$\bullet$ $f$ is \emph{continuous} if $f$ is continuous at all $x_0 \in X$.
\end{definition}

\begin{remark}
We may consider the "more general" setting \begin{equation*} f: D \ (\subseteq X) \ra Y, \ x_0 \in D. \end{equation*}

$f$ is \emph{continuous} at $x_0$ if $\forall \epsilon > 0 \ \exists \delta > 0$ such that $\forall x \in D$, if $\rho(x, x_0) < \delta$ then $\eta(f(x), f(x_0) < \epsilon$. 

But this is not more general than the definition since it coincides with the case when $D$ is considered as a metric space with the metric $\rho|_{D \times D}$.
\end{remark}

\begin{fact}
Let $(X; \rho)$ and $(Y; \eta)$ be two metric spaces, $f: X \ra Y$ and $x_0 \in X$. TFAE:

\begin{itemize}
\item[(i)] $f$ is continuous at $x_0$
\item[(ii)] $\forall \epsilon > 0 \ \exists \delta > 0$ such that $f(B_\delta(x_0)) \subseteq B_\epsilon(f(x_0))$
\item[(iii)] $\forall U \in \cV(f(x_0)) \ \exists V \in \cV(x_0)$ such that $f(V) \subseteq U$.
\item[(iv)] $\forall U$ open in Y such that $f(x_0) \in U$ $\exists V$ open in X such that $x_0 \in V$ and $f(V) \subseteq U$.
\end{itemize}
\end{fact}

The last characterization shows that continuity is a topological concept.

% AC02 p. 34

\begin{definition}
Let $(X; \cT)$ and $(Y; \mathcal{Y})$ be topological spaces. Let $f: X \ra Y$ be a function and $x_0 \in X$. 

$f$ is \emph{continuous} at $x_0$ if $\forall U \in \mathcal{Y}$ such that $f(x_0) \in U$ $\exists V \in \cT$ such that $x_0 \in V$ and $f(V) \subseteq U$.

\end{definition} 

Continuity is related to the more general concept of limit.

\begin{definition}
Let $(X; \rho)$ and $(Y; \eta)$ be topological spaces, $D \subseteq X$. Let $f: D \ra Y$ be a function and $x_0 \in X, y_0 \in Y$. 

$f$ \emph{has limit} $y_0$ \emph{at} $x_0$ if:

$\bullet$ $x_0$ is an accumulation point for $D$

$\bullet$ $\forall \epsilon > 0$ $\exists \delta > 0$ such that $\forall x \in D \setminus \{x_0\}$, if $\rho(x, x_0) < \delta$ then $\eta(f(x), y_0) < \epsilon$.

\end{definition} 

\begin{remark} 
If $f$ has limit $y_0$ at $x_0$ then $y_0$ is unique, hence we can denote: \begin{equation*}\lim_{x \ra x_0} f(x) = y_0.\end{equation*}
\end{remark}

% p. 35

\begin{fact} \
\begin{enumerate}
\item $f: D \left(\subseteq X\right) \ra Y$, metric spaces, $x_0 \in X$. % Domain of f labelled as X in notes, should be D for isolated pts. etc. to make sense
    \begin{itemize}
    \item[(i)] if $x_0$ is isolated in $D$ then $f$ is continuous at $x_0$
    \item[(ii)] if $x_0$ is an accum. point for $D$ then $f$ is cont. at $x_0$ iff \begin{equation*}\lim_{x \ra x_0} f(x) = f(x_0).\end{equation*}
    \end{itemize}
% \item % crossed out
\item $f: D \ra Y$ function, $x_0 \in D$ accumulation point and $y_0 \in Y$. Then
    \begin{align}
    \lim_{x \ra x_0} f(x) = y_0 \ \Lra \ \nonumber
    & \forall (x_n)_{n \geq 1} \textit{ with all } x_n \in D \\ \nonumber
    & \textit{and } x_n \neq x_0 \ \forall n \\ \nonumber
    & \textit{and } \lim_{n \ra \infty} x_n = x_0 \\ \nonumber
    & \textit{we have } \lim_{n \ra \infty} f(x_n) = y_0.
    \end{align}
    
    \begin{proof}
    
    \begin{itemize}
    \item["$\Ra$"] $\forall \epsilon > 0$ $\exists \delta > 0$ such that $\forall x \in D \setminus \{x_0\}$, if $\rho(x, x_0) < \delta$ then $\eta(f(x), y_0) < \epsilon$.
    
    Take $(x_n)_{n \geq 1}$ a sequence in $X$, $x_n \neq x_0 \ \forall n$ and $\lim_{n \ra \infty} x_n = x_0$.
    
    Then $\exists N_\delta \in \NN$ such that $\forall n \in \NN$, if $n \geq N_\delta$ then $\rho(x_n, x_0) < \delta$ hence: $\eta(f(x_n), y_0) < \epsilon$.
    
    % p. 36
    
    \item["$\La$"] Assume that $\forall (x_n)_{n \geq 1}$ seq. with all elements in $D$ such that $x_n \neq x_0 \ \forall n \in \NN$
    and $\lim_{n \ra \infty} x_n = x_0$ we have $\lim_{n \ra \infty} f(x_n) = y_0$.
    
    By contradiction assume that $f(x)$ does not converge to $y_0$ as $x$ approaches $x_0$. 
    
    Then $\exists \epsilon_0 > 0$ such that $\forall \delta > 0$ $\exists x \in D \setminus \{x_0\}$ with $\rho(x, x_0) < \delta$ and $\eta(f(x), y_0) \geq \epsilon_0$.
    
    $\forall n \in \NN$, take $\delta = \frac{1}{n} > 0$ hence $\exists x_n \in D \setminus \{x_0\}$ with $\rho(x_n, x_0) < \delta = \frac{1}{n}$ and $\eta(f(x_n), y_0) \geq \epsilon_0$
    
    hence $x_n \xrightarrow[n \ra \infty]{\rho} x_0$ but $f(x_n) \not\xrightarrow[n \ra \infty]{\eta} y_0$. % how to cross out arrow better?
    \end{itemize}
    \end{proof}

\item (Sequential Characterization of Continuity) Let $f: X \ra Y$ function and $x_0 \in X$. 
\begin{align}
\textit{Then } f \textit{ is continuous at } x_0 \Lra \ \nonumber
& \forall (x_n)_{n \geq 1} \textit{ seq. in } X \\ \nonumber
& \textit{such that } x_n \xrightarrow[n]{\rho} x_0 \\ \nonumber
& \textit{we have } f(x_n) \xrightarrow[n]{\eta} y_0 .
\end{align}

% p. 37

\item (Composition of Functions) Let $\underset{\rho}X \overset{f}\ra \underset{\eta}Y \overset{g}\ra \underset{\theta}Z$ functions between metric spaces.
    \begin{itemize}
    \item[(i)] % crossed out
    \item[(ii)] \begin{align}
    \textit{Assume that } \nonumber
    & x_0 \in X \\ \nonumber
    & f \textit{ is cont. at } x_0 \\ \nonumber
    & g \textit{ is cont. at } f(x_0)
    \end{align}
    Then $g \circ f$ is continuous at $x_0$.
    \end{itemize}

\item (Functions Between Euclidean Spaces) Let $D \subseteq \RR^p$ and $f: D \ra \RR^q$ be a function, hence $f(x) = \left(f_1(x), \ldots, f_q(x)\right)$, $\forall x \in D$ where  $f_j : D \ra \RR$ function $\forall j = 1, \ldots, q$.
    \begin{itemize}
    \item[(i)] Let $x_0 \in D^\prime$, i.e. $x_0$ is an accumulation point for $D$ and \\ $y^{(0)} = \left(y^{(0)}_1, \ldots, y^{(0)}_q\right) \in \RR^q$. Then
    \begin{equation*}
    \lim_{x \ra x_0} f(x) = y^{(0)} \Lra \ \forall j = 1, \ldots, q \  \lim_{x \ra x_0} f_j(x) = y^{(0)}_j.
    \end{equation*}
    % p. 38
    \item[(ii)] Let $x_0 \in D$. Then
    \begin{equation*}
    f \textit{ is cont. at } x_0 \Lra \ \forall j = 1, \ldots, q \ , f_j \textit{ is cont. at } x_0.
    \end{equation*}
    \end{itemize}
    
    \begin{proof} \
    \begin{itemize}
    \item[(i)] \
    	\begin{itemize}
	\item["$\Ra$".] Assume that $\lim_{x \ra x_0} f(x) = y^{(0)}$ and use the $\|\cdot\|_\infty$.
	
	$\forall \epsilon > 0 \ \exists \delta > 0$ such that $\forall x \in D \setminus \{x_0\}$, if $\|x - x_0\| < \delta$ then $\|f(x) - y^{(0)}\|_\infty < \epsilon$.
	
	Let $j \in \{1, \ldots, q\}$, then \begin{equation*} |f_j(x) - y^{(0)}_j| \leq \|f(x) - y^{(0)}\|_\infty < \epsilon. \end{equation*}
	
	\item["$\La$".] Assume that $\forall j = 1, \ldots, q$ \begin{equation*} \lim_{x \ra x_0} f_j(x) = y^{(0)}_j. \end{equation*}
	
	Then $\forall \epsilon > 0$ $\exists \delta_j > 0$ such that $\forall x \in D \setminus \{x_0\}$, if $\|x-x_0\|_\infty < \delta_j$ then $|f_j(x) - y^{(0)}_j| < \epsilon$. 
	
	Take $\delta := \min\{\delta_1, \ldots, \delta_q\} > 0$.
	
	Then $\forall j = 1, \ldots, q$, if $\|x-x_0\|_\infty < \delta \leq \delta_j$ then $|f_j(x) - y^{(0)}_j| < \epsilon$ hence \begin{equation*} \|f(x) - y^{(0)}\|_\infty = \max_{j=1}^q \{|f_j(x) - y^{(0)}_j|\} < \epsilon. \end{equation*}
	\end{itemize}
	
    \item[(ii)]
    $\bullet$ if $x_0$ isolated, nothing to prove.
    
    $\bullet$ if $x_0$ accum. point for D, we use (i). % align these later
    \end{itemize}
    \end{proof}

\end{enumerate}
\end{fact}

% p. 39

\begin{example}
\begin{enumerate}
\item $f: \RR^2 \ra \RR$
\begin{equation*}
f(x,y) =\left\{\begin{array}{ll} \frac{xy}{x^2+y^2}, & (x,y) \neq (0,0) \\ 0, & (x,y) = (0,0) \end{array} \right.
\end{equation*}

$\bullet$ $f$ continuous on $\RR^2 \setminus \left\{(0,0)\right\}$

$\bullet$  $(0,0)$ is an accum. point for $\RR^2$

and $f$ does not have a limit $(x,y) \ra (0,0)$

\begin{align} \nonumber
x = 0, \ y \ra 0 \Ra & f(0,y) = 0 \ra 0 \\ \nonumber
y = 0, \ x \ra 0 \Ra & f(x,0) = 0 \ra 0 \\ \nonumber
x = y \ra 0 \Ra & f(x,y) = \frac{1}{2} \ra \frac{1}{2}
\end{align}

\item $f: \RR^2 \ra \RR$
\begin{equation*}
f(x,y) =\left\{\begin{array}{ll} \frac{xy}{\sqrt{x^2+y^2}}, & (x,y) \neq (0,0) \\ 0, & (x,y) = (0,0) \end{array} \right.
\end{equation*}

$\bullet$ $f$ continuous on $\RR^2$

$\bullet$ at $(x_0, y_0) \neq (0,0)$, clear

$\bullet$ at $(0,0)$

\begin{equation*}
|f(x,y)| = \frac{|xy|}{\sqrt{x^2+y^2}} \leq \frac{\sqrt{x^2+y^2}}{2} = \frac{\|(x,y)\|_2}{2}
\end{equation*}

\end{enumerate}
\end{example}

% p. 40

\begin{definition}
$\bullet$ A \emph{curve} in $\RR^2$ is a continuous function $\gamma: I \ra \RR^q, q \geq 1$ where $I$ is an interval.

$\bullet$ If the interval $I = [a, b]$ is compact, then the curve has \emph{endpoints} $x = \gamma(a)$ and $y = \gamma(b)$. In this case we say that $\gamma$ is a \emph{path} joining $x$ and $y$.

$\bullet$ A curve with endpoints $x$ and $y$ is called \emph{closed} if $x = y$.
\end{definition}

\begin{example}
\begin{enumerate}
\item $\gamma(t) = \left(\cos t, \sin t\right), \gamma: [0, 2\pi] \ra \RR^2$

$\gamma(0) = \gamma(2\pi)$ so $\gamma$ is a closed curve.

% plot unit circle

\item $\gamma(t) = \left(t^2, t^3 \right), \gamma: [0, 1] \ra \RR^2$

$\gamma(0) = (0,0)$  $\gamma(1) = (1,1)$ a curve with endpoints but not closed.

% plot curve

\item $\gamma(t) = \left(t \cos t, t \sin t, t \right), \gamma: \RR \ra \RR^3$

is a curve with no endpoints

a \emph{spiral} inside $\left\{(x,y,z) | x^2 + y^2 = |z|\right\}$ a \emph{cone}

% plot spiral
\end{enumerate}
\end{example}

% AC03 p. 41

\begin{definition} A \emph{surface} in $\RR^q$ ($q \geq 2$) is a continuous function $F : A \ra \RR^q$, 

$D$ open, nonempty in $\RR^2$, $D \subseteq A \subseteq \bar D$.
\end{definition}

\begin{example}
\begin{enumerate}
\item \emph{2-dimensional sphere in} $\RR^3$
\begin{equation*}F : \left[0, 2\pi\right) \times \left[-\frac{\pi}{2}, \frac{\pi}{2}\right] \ra \RR^3 \end{equation*}
\begin{equation*}F(\theta, \phi) = (\cos \theta \cos \phi, \sin \theta \cos \phi, \sin \phi) \end{equation*}

% plot sphere

% p. 42

\item

\begin{equation*}G : B \ra \RR^3 \end{equation*}
\begin{equation*}G(x,y,z) = \left(x, y, \sqrt{1-x^2-y^2}\right) \end{equation*}
\begin{equation*}B = \left\{ (x, y) | x^2+y^2 \leq 1 \right\} \end{equation*}

% plot half-sphere

\end{enumerate}
\end{example}

\section{Continuity and Topology}
%% AC03 pp. 43-44

\begin{theorem} (\emph{Topological Characterization of Continuity})

Let $(X; \rho)$, $(Y; \eta)$ be metric spaces. $f: X \ra Y$ a function. TFAE:
\begin{itemize}
\item[(i)] $f$ is continuous.
\item[(ii)] For all $U$ open in $Y$, $f^{-1}(U)$ is open in $X$.
\item[(iii)] For all $F$ closed in $Y$, $f^{-1}(F)$ is closed in $X$.
\end{itemize}
\end{theorem}

\begin{proof} \
\begin{itemize} 
\item[(i) $\Ra$ (ii).] Let $U$ open in $Y$ and $x \in f^{-1}(U)$, i.e. $f(x) \in U$. 

Then $\exists \epsilon > 0$ s.t. $B_\epsilon(f(x)) \subseteq U$. 

Since $f$ is cont. at $x$ $\exists \delta > 0$ s.t. $f(B_\delta(x)) \subseteq B_\epsilon(f(x)) \subseteq U$

hence $B_\delta(x) \subseteq f^{-1}(B_\epsilon(f(x))) \subseteq f^{-1}(U)$, i.e. $f^{-1}(U)$ is open.

\item[(ii) $\Ra$ (i).] Let $x \in X$ and $\epsilon > 0$. Then $B_\epsilon(f(x))$ is open in $Y$ 

hence $f^{-1}(B_\epsilon(f(x)))$ is open in $X$.

Since $x \in f^{-1}(B_\epsilon(f(x)))$ it follows that $\exists \delta > 0$ 

s.t. $B_\delta(x) \subseteq f^{-1}(B_\epsilon(f(x)))$, i.e. $f(B_\delta(x)) \subseteq B_\epsilon(f(x))$.

Hence $f$ is cont. at each $x \in X$.
\item[(ii) $\Lra$ (iii).] Since $f^{-1}(Y \setminus A) = f^{-1}(Y) \setminus f^{-1}(A) = X \setminus f^{-1}(A)$.
\end{itemize}
\end{proof}

% p. 44

\begin{corollary} 

Let $\emptyset \neq D \subseteq \RR^p$, $f: D \ra \RR^q$ a function. TFAE:
\begin{itemize}
\item[(i)] $f$ is continuous.
\item[(ii)] For all $U$ open in $\RR^q$, $f^{-1}(U)$ is relatively open in $D$.
\item[(iii)] For all $F$ closed in $\RR^q$, $f^{-1}(F)$ is relatively closed in $D$.
\end{itemize}
\end{corollary}

\begin{corollary} 

Let $\emptyset \neq D \subseteq \RR^p$ open, $f: D \ra \RR^q$ a function. TFAE:
\begin{itemize}
\item[(i)] $f$ is continuous.
\item[(ii)] For all $U$ open in $\RR^q$, $f^{-1}(U)$ is open in $\RR^p$.
\item[(iii)] For all $F$ closed in $\RR^q$, $f^{-1}(F)$ is closed in $\RR^p$.
\end{itemize}
\end{corollary}

\section{Continuity and Compactness}
%% AC03 pp. 45-46

\begin{theorem} 
Let $(X; \rho)$, $(Y; \eta)$ be metric spaces, $f: X \ra Y$ a continuous function and $K$ compact in X. Then $f(K)$ is compact.
\end{theorem}
\begin{proof}

Let $\{U_i | i \in \cJ\}$ be an open (in Y) covering of $f(K)$: 
\begin{align*}
\bullet \ & \forall i \in \cJ, U_i \textup{ is open in Y; } \\
\bullet \ & f(K) \subseteq \bigcup_{i \in \cJ} U_i.
\end{align*}

Then $\forall i \in \cJ$, $f^{-1}(U_i)$ is open in X and
\begin{equation*}
K \subseteq f^{-1}(f(K)) \subseteq f^{-1}(\bigcup_{i \in \cJ} U_i) =  \bigcup_{i \in \cJ} f^{-1}(U_i)
\end{equation*}
hence $\{f^{-1}(U_i) | i \in \cJ\}$ is an open covering of $K$.

Since $K$ is compact $\exists i_1, \ldots, i_n \in \cJ$ such that
\begin{equation*}
K \subseteq  \bigcup_{k=1}^n f^{-1}(U_{i_k}) = f^{-1}(\bigcup_{k=1}^n U_{i_k})
\end{equation*}
hence $f(K) \subseteq f(f^{-1}(\bigcup_{k=1}^n U_{i_k})) \subseteq \bigcup_{k=1}^n U_{i_k}$.
\end{proof}

\begin{corollary}
Let $f: X \ra \RR$ a continuous function and $K$ compact, nonempty in $X$. Then:

$\bullet$ $f$ is bounded on $K$, i.e. $f(K)$ is bounded in $\RR$.

$\bullet$ The extreme values of $f$ on $K$ are attained, i.e. $\exists x_m, x_M \in K$ such that 
\begin{equation*} f(x_m) = \inf_K f, \ f(x_M) = \sup_K f.\end{equation*}
\end{corollary}

% p. 46

\begin{proof}
$f(K)$ is compact in $\RR$, hence closed and bounded.

$\bullet$ $f(K)$ bounded $\Ra$ $\inf_K f, \sup_K f \in \RR$.

$\bullet$ $\inf_K f \in_! \bar{f(K)} = f(K)$, hence $\exists x_m \in K$ such that $\inf_K f = f(x_m)$. 

$\bullet$ $\sup_K f \in \bar{f(K)} = f(K)$, hence $\exists x_M \in K$ such that $\sup_K f = f(x_M)$. 
\end{proof}

\begin{corollary}
Let $f: X \ra \RR^q$ a continuous function. Then for all $K$ nonempty and compact in $X$ $\exists x_m, x_M \in K$ such that 
\begin{equation*} \|f(x_m)\| = \inf_K \|f\|, \ \|f(x_M)\| = \sup_K \|f\|.\end{equation*}
\end{corollary}

\begin{proof}
% TODO draw diagram with TikZ
\begin{equation*} \|f\| = \|\cdot\| \circ f : X \ra \RR^q \ra \RR. \end{equation*}
\end{proof}

\section{Continuity and Connectedness}
%% AC03 pp. 47-50

\begin{theorem}
Let $(X; \rho)$, $(Y; \eta)$ be metric spaces, $f: X \ra Y$ a continuous function, $C$ connected in X. Then $f(C)$ is connected in Y.
\end{theorem}

\begin{proof}
By contrapositive, assume that f(C) is separated, hence: there exist $U$, $V$ open in $Y$ such that
\begin{align*}
\bullet \ & f(C) \subseteq U \cup V \\
\bullet \ & f(C) \cap U \neq \emptyset \\
\bullet \ & f(C) \cap V \neq \emptyset \\
\bullet \ & f(C) \cap U \cap V = \emptyset \\
\end{align*}
Then $f^{-1}(U)$, $f^{-1}(V)$ are open in X.
\begin{align*}
\bullet \ & C \subseteq f^{-1}(f(C)) \subseteq f^{-1}(U \cup V) = f^{-1}(U) \cup f^{-1}(V) \\
\bullet \ & \emptyset \neq f^{-1}(f(C) \cap U) = f^{-1}(f(C)) \cap f^{-1}(U) \\
\end{align*}

\begin{itemize}
\item[$\bullet$]
We prove $C \cap f^{-1}(U) \neq \emptyset$.

Since $f(C) \cap U \neq \emptyset$, $\exists y \in f(C)$ and $y \in U$ hence $\exists x \in C$ such that $f(x) \in U$, hence $x \in f^{-1}(U)$, i.e. $x \in C \cap f^{-1}(U)$.

\item[$\bullet$] Similarly $C \cap f^{-1}(V) \neq \emptyset$.

\item[$\bullet$] Similarly $C \cap f^{-1}(U) \cap f^{-1}(V) = \emptyset$

% p. 48

Assume $C \cap f^{-1}(U) \cap f^{-1}(V) \neq \emptyset$, then $\exists x \in C$ such that $x \in  f^{-1}(U) \cap f^{-1}(V)$ hence $f(x) \in f(C)$ and $f(x) \in f(f^{-1}(U)) \subseteq U$, $f(x) \in f(f^{-1}(V)) \subseteq V$ i.e. $f(x) \in  f(C) \cap U \cap V$, contradiction!
\end{itemize}

Thus, $f^{-1}(U)$ and $f^{-1}(V)$ separate C, contradiction!
\end{proof}

\begin{corollary} % Consequences
\begin{enumerate}
\item Let $f: (X; \rho) \ra \RR$ continuous, $C$ connected in $X$. Then $f(C)$ is an interval.
\item Let $I$ be an interval in $\RR$ and $\gamma: I \ra \RR^d$ continuous (a curve). Then $\gamma(I)$ is connected.

\begin{definition}
A subset $S \subseteq (X; \rho)$ is called \emph{pathwise connected} if for all $a, b \in S$ there exists a (continuous) path $\gamma: [0,1] \ra S$ such that $a = \gamma(0)$ and $b = \gamma(1)$.
\end{definition}

\item If $S$ is pathwise connected, then it is connected.

\begin{proof}
Assume $S$ is not connected, let $U$, $V$ open in $X$ and separating $S$. Then there exist $a \in S \cap U$ and $b \in S \cap V$.
% p. 49
Since S is pathwise connected, there exists $\gamma: [0,1] \ra S$ continuous such that $\gamma(0) = a$ and $\gamma(1) = b$. But then $U$ and $V$ separate $\gamma([0,1])$, contradiction!
\end{proof}

\begin{example}
A set in $\RR^2$ that is connected but not pathwise connected.
\begin{equation*}
S = \{(0,y) | -1 \leq y \leq 1 \} \cap \{ (x, \sin \frac{1}{x}) | -\frac{1}{\pi} < x < \frac{1}{\pi}, x \neq 0 \} % not sure about 1/pi
\end{equation*}
% missing: graph of set
\end{example}

\item Assume that $D$ is open in $\RR^d$. Then $D$ is connected iff $D$ is pathwise connected.

\begin{proof} \
\begin{itemize}
\item["$\La$"] Holds in general.
\item["$\Ra$"] On $D$ we define a relation: $x \overset{p}\sim y$ if $\exists \gamma: [0,1] \ra D$ continuous such that $\gamma(0) = x$ and $\gamma(1) = y$.
\begin{itemize}
\item[$\bullet$] $\stackrel{p}\sim$ is an equivalence relation on $D$.
%p. 50
\item[$\bullet$] $\forall x \in D$ its equivalence class $[x]_p$ is an open set.
\item[$\bullet$] If $D$ is not pathwise connected then there exist at least two different cosets w.r.t. $\overset{p}\sim$, hence $D$ is disconnected.
\end{itemize}
\end{itemize}
\end{proof}
\end{enumerate}
\end{corollary}

\section{Uniform Continuity}
%% AC03 pp. 51-54

\begin{definition}
Let $(X; \rho)$ and $(Y; \eta)$ be two metric spaces. A function $f: X \ra Y$ is \emph{uniformly continuous} if $\forall \epsilon > 0$ $\exists \delta > 0$ such that $\forall x_1, x_2 \in X$, if $\rho(x_1, x_2) < \delta$ then $\eta(f(x_1), f(x_2)) < \epsilon$.
\end{definition}

\begin{theorem}
If $f: \underset{\rho}X \ra \underset{\eta}Y$ is continuous and $X$ is compact, then $f$ is uniformly continuous.
\end{theorem}

\begin{proof}
Let $\epsilon > 0$. Since $f$ is continuous on $X$, $\forall x \in X$ $\exists \delta_x > 0$ such that $\forall z \in X$ with $\rho(x, z) < \delta_x \Ra \eta(f(x), f(z)) < \epsilon/2$.

Since $\{B_{\delta_x/2}(x) | x \in X\}$ is an open covering of X compact, it follows that there exist $x_1, \ldots, x_n \in X$ such that
\begin{equation*}
X \subseteq \bigcup_{i=1}^n B_{\delta_{x_i}/2}(x_i)
\end{equation*}

Let $\delta := \min \{\frac{\delta_{x_i}}{2} | i = 1, \ldots, n \} > 0$ and let $x, z \in X$ such that $\rho(x, z) < \delta$. Then $\exists j \in \{1, \ldots, n\}$ such that $x \in B_{\delta_{x_j}/2}(x_j)$ i.e. $\rho(x, x_j) < \frac{\delta_{x_j}}{2}$. Then
\begin{equation*}
\rho(z, x_j) \leq \rho(z, x) + \rho(x, x_j) < \delta + \frac{\delta_{x_j}}{2} \leq \frac{\delta_{x_j}}{2} + \frac{\delta_{x_j}}{2} = \delta_{x_j}
\end{equation*}
% p. 52
hence $\eta(f(x), f(x_j)) < \frac{\epsilon}{2}$ and $\eta(f(z), f(x_j)) < \frac{\epsilon}{2}$.
Then
\begin{equation*}
\eta(f(x), f(z)) \leq \eta(f(x), f(x_j)) + \eta(f(z), f(x_j)) < \epsilon
\end{equation*}
\end{proof}

\begin{theorem}
Let $(X; \rho)$ be a compact metric space, $(Y; \eta)$ be a complete metric space, $\emptyset \neq D \subseteq X$ and $f: D \ra Y$ a function. TFAE:
\begin{enumerate}
\item[(i)] $f$ is uniformly continuous on $D$
\item[(ii)] $\exists \bar f: \bar D \ra Y$ such that $\bar f|_D = f$ and $\bar f$ is continuous on $\bar D$.
\end{enumerate}
\end{theorem}

\begin{proof} \
\begin{itemize}
\item[(ii) $\Ra$ (i)] $\bar D$ closed in $X$ compact hence $\bar D$ is compact $\Ra$ $\bar f$ unif. cont. on $\bar D$ $\Ra$ $f = \bar f|_D$ unif. cont. on D.
\item[(i) $\Ra$ (ii)] Assume that $f$ is uniformly continuous.

\begin{itemize}
\item[$\bullet$] $f$ maps Cauchy sequences from $D$ to Cauchy sequences in $Y$:

Let $\epsilon > 0$. Then $\exists \delta > 0$ such that $\forall x, z \in D$, if $\rho(x,z) < \delta$ then $\eta(f(x), f(z)) < \epsilon$.

Let $(x_n)_{n \geq 1}$ be a $\rho$-Cauchy sequence in $D$.
% p. 53
$\forall \epsilon > 0$, with $\delta > 0$ as before, $\exists N \in \NN$ such that $\forall n \in \NN$ if $m, n \geq \NN$ then $\rho(x_m, x_n) < \delta$ hence $\eta(f(x_m), f(x_n)) < \epsilon$.

\item[$\bullet$] Let $x \in \bar D$. Then $\exists (x_n)_{n \geq 1}$ in $D$ such that $x_n \xrightarrow[n]{\rho} x$ hence $(x_n)_{n \geq 1}$ is $\rho$-Cauchy, hence $(f(x_n))_{n \geq 1}$ is $\eta$-Cauchy hence, since $(Y; \eta)$ is complete, $\exists y_x \in Y$ such that $f(x_n) \xrightarrow[n]{\eta} y_x$. Define $\bar f(x) := y_x$. The definition of $\bar f$ is correct:

We use the interlacing method.
\begin{align*}
\textup{If } 
(x_n)_{n \geq 1} \textup{ is a seq. in D, } & x_n \xrightarrow[n]{\rho} x \\
(z_n)_{n \geq 1} \textup{ is a seq. in D, } & z_n \xrightarrow[n]{\rho} x
\end{align*}
Then $(t_n)_{n \geq 1}$ defined by
\begin{equation*}
t_n =\left\{\begin{array}{ll}{x_{\frac{n}{2}},} & {\textup{if } n = 2k} \\ {z_{\frac{n-1}{2}},} & {\textup{if } n = 2k+1}\end{array}\right.
\end{equation*}
is a sequence in $D$ and $t_n \xrightarrow[n]{\rho} x$. % exercise

Then $f(x_n) \xrightarrow[n]{\eta} y_x$, $f(z_n) \xrightarrow[n]{\eta} z_x$, $f(t_n) \xrightarrow[n]{\eta} t_x$. Since $(f(x_n))_{n \geq 1}$ and $(f(z_n))_{n \geq 1}$ are subsequences of $(f(t_n))_{n \geq 1}$, it follows that $y_x = t_x = z_x$.

% p. 54
\item[$\bullet$] $\bar f$ is continuous on $\bar D$:

We use the sequential characterization of continuity. Let $\bar x \in \bar D$ and $(\bar x_n)_{n \geq 1}$ a sequence in $\bar D$ such that $\bar x_n \xrightarrow[n]{\rho} \bar x$.

Then $\forall n \geq 1$ $\exists x_n \in D$ such that $\rho(\bar x_n, x_n) < \frac{1}{n}$ and $\rho(\bar f(\bar x_n), f(x_n)) < \frac{1}{n}$. % exercise

Then
\begin{equation*}
\rho(x_n, \bar x) \leq \rho(x_n, \bar x_n) + \rho(\bar x_n, \bar x) < \frac{1}{n} + \rho(\bar x_n, \bar x) \xrightarrow[n]{} 0
\end{equation*}
hence $x_n \xrightarrow[n]\rho \bar x$, and then by def. of $\bar f$ we have $f(x_n) \xrightarrow[n]\rho \bar f(\bar x)$, and then
\begin{equation*}
\eta(\bar f(\bar x_n), \bar f(\bar x)) \leq \eta(\bar f(\bar x_n), f(x_n)) + \eta(f(x_n), \bar f(\bar x)) < \frac{1}{n} + \eta(f(x_n), \bar f(\bar x)) \xrightarrow[n]{} 0
\end{equation*}
hence $\bar f(\bar x_n) \xrightarrow[n]\eta \bar f(\bar x)$.
\end{itemize}
\end{itemize}
\end{proof}

\section{Sequences of Functions}
%% AC03 pp. 55-59

Let $X$ be a nonempty set and $(Y; \eta)$ a vector space. We consider sequences $(f_n)_{n \geq 1}$ of functions
\begin{equation*} f_n: X \ra Y, \ n \in \NN. \end{equation*}

\begin{definition} \
\begin{itemize}
\item[$\bullet$] $(f_n)_{n \geq 1}$ \emph{converges pointwise} to $f: X \ra Y$ if 

$\forall x \in X$ $\forall \epsilon > 0$ $\exists N \in \NN$ such that $\forall n \geq N, \eta(f(x),f_n(x)) < \epsilon$,

i.e. $\forall x \in X$, $(f_n(x))_{n \geq 1}$ converges to $f(x)$ in $Y$ with respect to $\eta$.

\item[$\bullet$] $(f_n)_{n \geq 1}$ \emph{converges uniformly} to $f: X \ra Y$ if 

$\forall \epsilon > 0$ $\exists N \in \NN$ such that $\forall n \geq N, \forall x \in X, \eta(f(x),f_n(x)) < \epsilon$
\end{itemize}
\end{definition}

\begin{fact} \
\begin{enumerate}
\item If there exists $(\alpha_n)_{n \geq 1}$ such that $\alpha_n \geq 0 \ \forall n \in \NN$ and $\alpha_n \xrightarrow[n]{} 0$ and $\eta(f(x), f_n(x)) \leq \alpha_n \ \forall n \in \NN$ and $\forall x \in X$, then $f_n \xrightarrow[n]{\textup{unif.}} f$.

\item If $(X; \rho)$ and $(Y; \eta)$ are metric spaces and functions $f_n: X \ra Y$ continuous for all $n \in \NN$, $f: X \ra Y$ such that $f_n \xrightarrow[n]{\textup{unif.}} f$, then $f$ is continuous on $X$.

\begin{proof}
Let $x_0 \in X$ and $\epsilon > 0$. There exists $N \in \NN$ such that for all $n \geq N$ and all $x \in X$
\begin{equation*} \eta(f_n(x),f(x)) < \frac{\epsilon}{3}. \end{equation*}

% p. 56

$f_N$ is continuous at $x_0$, so there exists $\delta > 0$ such that for all $x \in X$, $\rho(x, x_0) < \delta$ implies $\eta(f_N(x), f_N(x_0)) < \frac{\epsilon}{3}$.

Then for all $x \in X$, if $\rho(x, x_0) < \delta$ then

\begin{align*} 
\eta(f(x), f(x_0)) & \leq \eta(f(x), f_N(x)) + \eta(f_N(x), f_N(x_0)) + \eta(f_N(x_0), f(x_0)) \\
& < \frac{\epsilon}{3} + \frac{\epsilon}{3} + \frac{\epsilon}{3} = \epsilon.
\end{align*}
\end{proof}
\end{enumerate}
\end{fact}

\begin{example} \
\begin{enumerate}
\item $f_n: \underset{\subseteq \RR^d}{\overline{B_1(0)}} \ra \RR$, $f_n(x) = \|x\|^n_2$,
\begin{equation*}
f(x)=\left\{\begin{array}{ll}{0,} & {x \in B_1(0)} \\ {1,} & {x \in \partial B_1(0)}\end{array}\right.
\end{equation*}
Then $f_n \xrightarrow[n]{\textup{pointwise}} f$ but not uniformly.

\item $B_1(0) \in \RR^2$, $f_n : B_1(0) \ra \RR^2$, $f : B_1(0) \ra \RR^2$
\begin{equation*}
f_n(x_1, x_2) = \left(\frac{x_1^2-nx_2^2}{1+nx_2^2}, \frac{nx_1}{1+nx_1^2}\right)
\end{equation*}
\begin{equation*}
f(x)=\left\{\begin{array}{ll}
{(-1, \frac{1}{x_1}),} & {x_1 \neq 0, x_2 \neq 0} \\ 
{(-1, 0,} & {x_1 = 0, x_2 \neq 0} \\ 
{(x_1^2, \frac{1}{x_1}),} & {x_1 \neq 0, x_2 = 0} \\ 
{(0,0),} & {x_1 = 0, x_2 = 0} 
\end{array}\right.
\end{equation*}

$f_n \xrightarrow[n]{\textup{pointwise}} f$ but not uniformly.
\end{enumerate}
\end{example}

% p. 57

\begin{definition}
$f_n: \underset{\textup{set}}X \ra \underset{\eta}Y$, $\forall n \in \NN$.

$(f_n)_{n \geq 1}$ is \emph{uniformly Cauchy} if for all $\epsilon > 0$ there exists $N \in \NN$ such that for all $m, n \geq N$ we have 
\begin{equation*}\eta(f_n(x), f_m(x)) < \epsilon\end{equation*}.
\end{definition}

\begin{fact} \
\begin{enumerate}
\item If $f_n \xrightarrow[n]{\textup{unif.}} f$ then $(f_n)_{n \geq 1}$ is uniformly Cauchy.

\item If $(Y; \eta)$ is complete and $(f_n)_{n \geq 1}$ is uniformly Cauchy then $\exists f: X \ra Y$ such that $f_n \xrightarrow[n]{\textup{unif.}} f$.

\begin{proof}
Let $\epsilon > 0$. There exists $N \in \NN$ such that for any $m, n \geq N$, $x \in X$ 
\begin{equation}
\eta(f_m(x), f_n(x)) < \frac{\epsilon}{2} \label{cauchy} \tag{$*$}
\end{equation}

Then, for each $x \in X$ $(f_n(x))_{n \geq 1}$ is Cauchy in $Y$ complete, hence there exists $f(x) \in Y$ such that $f_n(x) \xrightarrow[n]{} f(x)$.

Due to the uniqueness of the limit in $Y$, there exists a function $f: X \ra Y$ such that $f_n \xrightarrow[n]{\textup{pointwise}} f$.

Letting $m \ra +\infty$ in \eqref{cauchy}, for all $n \geq N$, $x \in X$
\begin{equation*}
\eta(f(x), f_n(x)) \leq \frac{\epsilon}{2} < \epsilon
\end{equation*}

Hence $f_n \xrightarrow[n]{\textup{unif.}} f$.
\end{proof}
\end{enumerate}
\end{fact}

\begin{remark}
For all $z \in Y$ the map $Y \ni y \mapsto \eta(y, z) \in \RR$ is continuous.
\end{remark}

% p. 58

\begin{definition}
Let $X \neq \emptyset$ and $(V, \|\cdot\|)$ a normed space. 
\begin{equation*}
\cB(X; V) := \left\{f : X \ra V | f \textup{bounded function} \right\}
\end{equation*}
For all $f \in \cB(X; V)$, $\|f\|_X := \underset{x \in X}\sup \|f(x)\|$.
\end{definition}

\begin{fact} \
\begin{enumerate}
\item $\cB(X; V)$ is a vector space. $\|\cdot\|_X$ is a norm, called the \emph{sup norm} on $X$.
\item If $(V; \|\cdot\|)$ is complete, then the normed space $(\cB(X; V); \|\cdot\|_X)$ is complete.
\begin{proof}
Let $(f_n)_{n \geq 1}$ be a Cauchy sequence in $\cB(X; V)$ with respect to the norm $\|\cdot\|_X$. Hence:
\begin{equation*}
\forall \epsilon > 0 \ \exists N \in \NN \textup{ such that } \forall m, n \geq N, \|f_m - f_n\|_X < \frac{\epsilon}{2}.
\end{equation*}
\begin{equation}
\textup{hence } \forall x \in X \quad \|f_m(x) - f_n(x)\| \leq \|f_m - f_n\|_X < \frac{\epsilon}{2} \label{ptcauchy} \tag{$*$}
\end{equation}

Then for all $x \in X$ the sequence $(f_n(x))_{n \geq 1}$ is Cauchy in V complete, hence there exists $f(x) \in V$ such that
\begin{equation*} \|f_n(x) - f(x)\| \xrightarrow[n \ra \infty]{} 0 \end{equation*}

Then $X \ni x \mapsto f(x) \in V$ is a function. % exercise

$\bullet$ $f \in \cB(X; V)$ and $\|f_n - f\|_X \xrightarrow[n]{} 0$.

% p. 59

$\bullet$ For all $x \in X$ let $n \ra \infty$ in \eqref{ptcauchy} hence
\begin{equation}
\|f(x) - f_n(x)\| \leq \frac{\epsilon}{2} < \epsilon \label{ptconv} \tag{$**$}
\end{equation}
hence
\begin{equation}
\sup_{x \in X} \|f(x) - f_n(x)\| \leq \frac{\epsilon}{2} < \epsilon \label{supconv} \tag{$***$}
\end{equation}

Also for all $x \in X$, letting $n = N$ in \eqref{ptconv} we have
\begin{equation*}
\|f(x)\| \leq \|f(x) - f_N(x)\| + \|f_N(x)\| \leq \frac{\epsilon}{2} + \|f_N\|_X < +\infty
\end{equation*}
hence $f \in \cB(X; V)$.

On the other hand, from \eqref{supconv}, for all $n \geq N$ $\|f - f_n\|_X < \epsilon$,

hence $f_n \xrightarrow[n]{\|\cdot\|_X} f$.
\end{proof}

\item Let $(X; \rho)$ be a compact metric space, $(V; \|\cdot\|)$ Banach space and
\begin{equation*} \cC(X; V) := \left\{f: X \ra V | f \textup{ continuous} \right\}. \end{equation*}
Then:
\begin{itemize}
\item[$\bullet$] $\cC(X; V) \subseteq \cB(X; V)$ as a vector subspace
\item[$\bullet$] $(\cC(X; V); \|\cdot\|_X)$ is a complete normed space.
\end{itemize}
\end{enumerate}
\end{fact}

\section{Series of Functions}
%% AC03 p. 60

Let $\emptyset \neq X$ be a set and $(V, \|\cdot\|_V)$ be a normed space and $(f_n)_{n \geq 1}$ a sequence of functions $f_n : X \ra V$.

\begin{definition} \
\begin{itemize}
\item[$\bullet$] A formal sum $\sum_{n=1}^\infty f_n$ is called a \emph{series of functions} on $X$ and valued in $V$.
\begin{equation*} \forall n \in \NN \quad s_n = \sum_{k=1}^n f_n, \end{equation*}
$(s_n)_{n=1}^\infty$ is the sequence of partial sums of the series $\sum_{n=1}^\infty f_n$.
\item[$\bullet$] The series $\sum_{n=1}^\infty f_n$ \emph{pointwise converges} if the sequence $(s_n)_{n=1}^\infty$ converges pointwise to a function $f: X \ra V$.
\item[$\bullet$] The series $\sum_{n=1}^\infty f_n$ \emph{uniformly converges} if the sequence $(s_n)_{n=1}^\infty$ converges uniformly to a function $f: X \ra V$.
\item[$\bullet$] The series $\sum_{n=1}^\infty f_n$ \emph{absolutely} converges if $\sum_{n=1}^\infty \|f_n\|_V$ converges. This can be pointwise or uniformly.
\end{itemize}
\end{definition}

\begin{fact} 
Assume that the normed space $(V; \|\cdot\|)$ is complete.
\begin{enumerate}
\item If $\sum_{n=1}^\infty f_n$ absolutely converges then it converges.
\item If $\|f_n(x)\| \leq \alpha_n$ for all $x \in X, n \in \NN$, and $\sum_{n=1}^\infty \alpha_n < +\infty$ then $\sum_{n=1}^\infty f_n$ converges absolutely and uniformly.
\end{enumerate}
\end{fact}

\end{document}
